@echo off
chcp 65001 >nul
setlocal EnableDelayedExpansion

:: ============================================
:: Git Push Script –¥–ª—è Windows
:: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: git-push.bat "—Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞"
:: ============================================

echo.
echo ========================================
echo üöÄ Git Push - Beauty Salon
echo ========================================
echo.

:: –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–µ—Ä–µ–¥–∞–Ω–æ –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞
if "%~1"=="" (
    set /p COMMIT_MSG="üìù –í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞: "
) else (
    set "COMMIT_MSG=%~1"
)

if "!COMMIT_MSG!"=="" (
    echo ‚ùå –°–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º!
    pause
    exit /b 1
)

:: –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
echo.
echo üì¶ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤...
git add .

:: –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —á—Ç–æ –∫–æ–º–º–∏—Ç–∏—Ç—å
git diff --cached --quiet
if %errorlevel%==0 (
    echo.
    echo ‚ö†Ô∏è  –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –∫–æ–º–º–∏—Ç–∞.
    pause
    exit /b 0
)

:: –ö–æ–º–º–∏—Ç–∏–º
echo.
echo üíæ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞: "!COMMIT_MSG!"
git commit -m "!COMMIT_MSG!"

:: –ü—É—à–∏–º
echo.
echo ‚òÅÔ∏è  –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ GitHub...
git push

if %errorlevel%==0 (
    echo.
    echo ========================================
    echo ‚úÖ –£—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!
    echo ========================================
) else (
    echo.
    echo ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ.
    echo –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å: git push -u origin main
)

echo.
pause

