#!/bin/bash

# ============================================
# Git Push Script –¥–ª—è Linux/Mac
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ./git-push.sh "—Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞"
# ============================================

echo ""
echo "========================================"
echo "üöÄ Git Push - Beauty Salon"
echo "========================================"
echo ""

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–µ—Ä–µ–¥–∞–Ω–æ –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞
if [ -z "$1" ]; then
    read -p "üìù –í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞: " COMMIT_MSG
else
    COMMIT_MSG="$1"
fi

if [ -z "$COMMIT_MSG" ]; then
    echo "‚ùå –°–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º!"
    exit 1
fi

# –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
echo ""
echo "üì¶ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤..."
git add .

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —á—Ç–æ –∫–æ–º–º–∏—Ç–∏—Ç—å
if git diff --cached --quiet; then
    echo ""
    echo "‚ö†Ô∏è  –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –∫–æ–º–º–∏—Ç–∞."
    exit 0
fi

# –ö–æ–º–º–∏—Ç–∏–º
echo ""
echo "üíæ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞: \"$COMMIT_MSG\""
git commit -m "$COMMIT_MSG"

# –ü—É—à–∏–º
echo ""
echo "‚òÅÔ∏è  –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ GitHub..."
git push

if [ $? -eq 0 ]; then
    echo ""
    echo "========================================"
    echo "‚úÖ –£—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!"
    echo "========================================"
else
    echo ""
    echo "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ."
    echo "–í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å: git push -u origin main"
fi

